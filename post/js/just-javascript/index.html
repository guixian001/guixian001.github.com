<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"><title>【# 01】Just Javascript 笔记 - Guixian 的日常记录</title>
<meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=Cache-Control content="no-transform"><meta http-equiv=Cache-Control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="Chen Guixian"><meta name=description content="前言 && 心智模型 Mental Model 心智模型 心智模型/心智模式的理论是基于一个试图对某事做出合理解释的个人会发展可行的方法的假设，在有限的领域知识和有限的信息处理能力上，产生合理的解释。心智模型是对思维的高级建构，心智模型表征了主观的知识。通过不同的理解解释了心智模型的概念、特性、功用。心智模型是个体为了要了解和解释他们的经验，所建构的知识结构，该模型受限于个体关于他们经验的内隐理论(Implicit Theories)，这可能有很多或很少的正确性。
"><meta name=keywords content="just javascript"><meta name=generator content="Hugo 0.134.3 with theme even"><link rel=canonical href=https://blog.chenguixian.com/post/js/just-javascript/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin=anonymous><meta property="og:url" content="https://blog.chenguixian.com/post/js/just-javascript/"><meta property="og:site_name" content="Guixian 的日常记录"><meta property="og:title" content="【# 01】Just Javascript 笔记"><meta property="og:description" content="前言 && 心智模型 Mental Model 心智模型 心智模型/心智模式的理论是基于一个试图对某事做出合理解释的个人会发展可行的方法的假设，在有限的领域知识和有限的信息处理能力上，产生合理的解释。心智模型是对思维的高级建构，心智模型表征了主观的知识。通过不同的理解解释了心智模型的概念、特性、功用。心智模型是个体为了要了解和解释他们的经验，所建构的知识结构，该模型受限于个体关于他们经验的内隐理论(Implicit Theories)，这可能有很多或很少的正确性。"><meta property="og:locale" content="zh_cn"><meta property="og:type" content="article"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-09-14T20:16:33+08:00"><meta property="article:modified_time" content="2021-09-14T20:16:33+08:00"><meta property="article:tag" content="Javascript"><meta itemprop=name content="【# 01】Just Javascript 笔记"><meta itemprop=description content="前言 && 心智模型 Mental Model 心智模型 心智模型/心智模式的理论是基于一个试图对某事做出合理解释的个人会发展可行的方法的假设，在有限的领域知识和有限的信息处理能力上，产生合理的解释。心智模型是对思维的高级建构，心智模型表征了主观的知识。通过不同的理解解释了心智模型的概念、特性、功用。心智模型是个体为了要了解和解释他们的经验，所建构的知识结构，该模型受限于个体关于他们经验的内隐理论(Implicit Theories)，这可能有很多或很少的正确性。"><meta itemprop=datePublished content="2021-09-14T20:16:33+08:00"><meta itemprop=dateModified content="2021-09-14T20:16:33+08:00"><meta itemprop=wordCount content="4444"><meta itemprop=keywords content="just javascript"><meta name=twitter:card content="summary"><meta name=twitter:title content="【# 01】Just Javascript 笔记"><meta name=twitter:description content="前言 && 心智模型 Mental Model 心智模型 心智模型/心智模式的理论是基于一个试图对某事做出合理解释的个人会发展可行的方法的假设，在有限的领域知识和有限的信息处理能力上，产生合理的解释。心智模型是对思维的高级建构，心智模型表征了主观的知识。通过不同的理解解释了心智模型的概念、特性、功用。心智模型是个体为了要了解和解释他们的经验，所建构的知识结构，该模型受限于个体关于他们经验的内隐理论(Implicit Theories)，这可能有很多或很少的正确性。"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script><script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>Guixian 的日常记录</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>Guixian 的日常记录</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>【# 01】Just Javascript 笔记</h1><div class=post-meta><span class=post-time>2021-09-14</span><div class=post-category><a href=/categories/javascript/>javascript</a></div></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>文章目录</h2><div class="post-toc-content always-active"><nav id=TableOfContents><ul><li><ul><li><a href=#前言--心智模型-mental-model>前言 && 心智模型 Mental Model</a><ul><li><a href=#心智模型>心智模型</a></li><li><a href=#快编慢码coding-fast-and-slow>快编慢码（Coding, Fast and Slow）</a></li></ul></li><li><a href=#javascript-宇宙>JavaScript 宇宙</a><ul><li><a href=#代码与值code-and-values>代码与值（Code and Values）</a></li><li><a href=#表达式expressions>表达式（Expressions）</a></li><li><a href=#值的类型types-of-values>值的类型（Types of Values）</a></li></ul></li><li><a href=#值和变量-values-and-variables>值和变量 Values and Variables</a><ul><li><a href=#原始值是不可变的primitive-values-are-immutable>原始值是不可变的（Primitive Values Are Immutable）</a></li><li><a href=#矛盾之处a-contradiction>矛盾之处？（A Contradiction?）</a></li><li><a href=#变量是电线variables-are-wires>变量是电线（Variables Are Wires）</a></li><li><a href=#小测试>小测试</a></li></ul></li><li><a href=#counting-the-values>Counting the Values</a><ul><li><a href=#未定义undefined>未定义（Undefined）</a></li><li><a href=#空值null>空值（Null）</a></li><li><a href=#布尔值booleans>布尔值（Booleans）</a></li><li><a href=#数字numbers>数字（Numbers）</a></li><li><a href=#大数bigints>大数（BigInts）</a></li><li><a href=#字符串strings>字符串（Strings）</a></li><li><a href=#符号symbols>符号（Symbols）</a></li><li><a href=#对象objects>对象（Objects）</a></li><li><a href=#函数functions>函数（Functions）</a></li><li><a href=#测试>测试</a></li></ul></li><li><a href=#参考资料>参考资料</a></li></ul></li></ul></nav></div></div><div class=post-content><h2 id=前言--心智模型-mental-model>前言 && 心智模型 Mental Model</h2><h3 id=心智模型>心智模型</h3><blockquote><p>心智模型/心智模式的理论是基于一个试图对某事做出合理解释的个人会发展可行的方法的假设，在有限的领域知识和有限的信息处理能力上，产生合理的解释。心智模型是对思维的高级建构，心智模型表征了主观的知识。通过不同的理解解释了心智模型的概念、特性、功用。心智模型是个体为了要了解和解释他们的经验，所建构的知识结构，该模型受限于个体关于他们经验的内隐理论(Implicit Theories)，这可能有很多或很少的正确性。</p></blockquote><p>简单的说就是对于事物基于自己心智的理解。</p><p>作者举了一个例子。</p><p>如下的一段代码：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>a</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>b</span> <span class=o>=</span> <span class=nx>a</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>a</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>在看到这段代码是，注意自己脑中发生了什么，比如会产生这样的独白：</p><ul><li><code>let a = 10</code><ul><li>声明一个变量为 <code>a</code>，把它设为 <code>10</code></li></ul></li><li><code>let b = a</code><ul><li>声明一个变量 <code>b</code>，把它设为 <code>a</code></li><li><code>a</code> 是多少来着？是 <code>10</code>，所以 <code>b</code>也就是 <code>10</code></li></ul></li><li>a = 0<ul><li>把 <code>a</code> 设置 <code>0</code></li></ul></li><li>所以现在 <code>a</code> 为 <code>0</code>，<code>b</code>为 <code>10</code>。这就是我们的答案</li></ul><p>也许我们的独白会不太一样：比如会说 <code>赋予</code> 而不是 <code>设为</code>。或者可能逻辑顺序也不一样，也可能答案都不一样。</p><p>对每个基本的编程概念（比如变量）和基于此的操作（比如赋值）都有一套深根于你脑子中的类比。有一些或许来自于现实，有一些或许演化于你之前学过的其他领域，比如数学中的数字。这些类比可能会重叠并相互矛盾，但它们还是可以帮你理解代码中发生了什么。</p><p>这些直觉（比如变量的盒子化）影响了我们这一生阅读代码的方式。但有时，我们的心智模型是错误的。</p><p>一个好的心智模型会帮你更快地找出并修复 bug，更好地理解他人的代码，并且更自信于你的代码。</p><h3 id=快编慢码coding-fast-and-slow>快编慢码（Coding, Fast and Slow）</h3><p>一旦可以，我们就会依赖于「快」系统。我们这套系统和很多动物一样，它给了我们像一直走路而不摔倒这种神奇的能力。这种「快」系统善于模式匹配（对于生存来说很有必要）和「本能反应」。但不善于筹划。</p><p>独特的是，由于额叶的发展，人类也拥有「慢」思维系统。 这种「慢」系统负责复杂的逐步推理。它使我们能够规划未来的事件、进行争论、遵循数学证明。</p><p>由于使用「慢」系统非常费力，因此即使在处理诸如编程之类的智力任务时，我们也倾向于默认使用「快」系统。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=nx>duplicateSpreadsheet</span><span class=p>(</span><span class=nx>original</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=k>if</span> <span class=p>(</span><span class=nx>original</span><span class=p>.</span><span class=nx>hasPendingChanges</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>throw</span> <span class=k>new</span> <span class=nb>Error</span><span class=p>(</span><span class=s1>&#39;You need to save the file before you can duplicate it.&#39;</span><span class=p>);</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>copy</span> <span class=o>=</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nx>created</span><span class=o>:</span> <span class=nb>Date</span><span class=p>.</span><span class=nx>now</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>    <span class=nx>author</span><span class=o>:</span> <span class=nx>original</span><span class=p>.</span><span class=nx>author</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>cells</span><span class=o>:</span> <span class=nx>original</span><span class=p>.</span><span class=nx>cells</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nx>metadata</span><span class=o>:</span> <span class=nx>original</span><span class=p>.</span><span class=nx>metadata</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=nx>copy</span><span class=p>.</span><span class=nx>metadata</span><span class=p>.</span><span class=nx>title</span> <span class=o>=</span> <span class=s1>&#39;Copy of &#39;</span> <span class=o>+</span> <span class=nx>original</span><span class=p>.</span><span class=nx>metadata</span><span class=p>.</span><span class=nx>title</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=k>return</span> <span class=nx>copy</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>比如这么一段代码，我们可能会发现这个函数用于复制电子表格，如果是未保存的原始电子表格，会报错。</p><p>我们可能不会注意到这个函数会不慎修改原电子表格的标题。</p><p>在「快」模式下，我们基于命名、注释、整体结构来猜想一段代码的用途。在「慢」模式下，我们一步步地追溯代码的运作方式。</p><h2 id=javascript-宇宙>JavaScript 宇宙</h2><h3 id=代码与值code-and-values>代码与值（Code and Values）</h3><p><img src=https://static.chenguixian.com/image/2024/11/Ua3fe9baa286e4b9fbf5c2e2c17c81f9ea-778364.jpg></p><h4 id=原始值primitive-values>原始值（Primitive Values）</h4><p><strong>原始值（Primitive Values）</strong> 就是数字（number）或者字符串（string）等等。所有原始值都有一些共同点。<strong>我的代码无法影响他们</strong>（指原始值是 immutable）。在宇宙星球中坐着比喻为星星一样，无情二遥远，但是当我们需要时，它们总是会在那里。</p><h4 id=对象和函数objects-and-functions>对象和函数（Objects and Functions）</h4><p>对象（object）和函数（function）也是值，但它们并不原始。当我们在控制台打印如下代码时：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>({});</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>([]);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>x</span> <span class=p>=&gt;</span> <span class=nx>x</span> <span class=o>*</span> <span class=mi>2</span><span class=p>);</span>
</span></span></code></pre></td></tr></table></div></div><p>显示它们的方式与原始值不同。某些浏览器会在他们之前显示一个箭头，或者在单击它们的时候展现地很特别。与原始值不同的是对象和函数就像是漂浮在我们代码附件的石块（原始值像是星星）。它们更加近 ，我们可以操纵它们。</p><h3 id=表达式expressions>表达式（Expressions）</h3><p>我们可以使用表达式来提问，JavaScript 将用值来回答，比如 <code>2+2</code> 将被用 4 来回答。（<strong>不知道这里提这个是什么含义？</strong>）</p><p><img src=https://static.chenguixian.com/image/2024/11/U3f670615a3f3419795928c14cdedd5f0U-8d5fd8.gif></p><h3 id=值的类型types-of-values>值的类型（Types of Values）</h3><p>可以使用 <code>typeof</code>来检查一个值的类型。</p><h4 id=原始值primitive-values-1>原始值（Primitive Values）</h4><ul><li><strong>未定义（Undefined）</strong> (<code>undefined</code>)，用于无意中漏掉的值。</li><li><strong>空值（Null）</strong> (<code>null</code>)，用于有意漏掉的值。</li><li><strong>布尔值（Booleans）</strong> (<code>true</code> 和 <code>false</code>)，用于逻辑操作符。</li><li><strong>数字（Numbers）</strong> (<code>-100</code>、<code>3.14</code> 之类的)，用于数学计算。</li><li><strong>字符串（Strings）</strong> (<code>"hello"</code>、<code>"abracadabra"</code> 之类的)，用于文本。</li><li><strong>符号（Symbols）</strong> (不常用)，用于隐藏实现细节。</li><li><strong>大型整数（BigInts）</strong> (不常用，是新的)，用于数学中的大数字。</li></ul><h4 id=对象和函数objects-and-functions-1>对象和函数（Objects and Functions）</h4><ul><li><strong>对象（Objects）</strong> (<code>{}</code> 之类的)，用于将相关的数据和代码分组。</li><li><strong>函数（Functions）</strong> (<code>x => x * 2</code> 之类的)，用于引用代码。</li></ul><p><strong>没有别的类型了</strong>。除了列举过的类型外，没有别的基础类型了。所有剩下的都是对象（object）。比如数组、日期、正则表达式，都是 JavaScript 中的对象：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>([]));</span> <span class=c1>// &#34;object&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=k>new</span> <span class=nb>Date</span><span class=p>()));</span> <span class=c1>// &#34;object&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=sr>/(hello|goodbye)/</span><span class=p>));</span> <span class=c1>// &#34;object&#34;		
</span></span></span></code></pre></td></tr></table></div></div><h2 id=值和变量-values-and-variables>值和变量 Values and Variables</h2><p>是看一个小例子，看看如下代码输出的结果是什么？</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>reaction</span> <span class=o>=</span> <span class=s1>&#39;yikes&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>reaction</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;l&#39;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>reaction</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><p>这段代码打印 <code>yikes</code>。如果使用 strict mode 的话，会报错。</p><h3 id=原始值是不可变的primitive-values-are-immutable>原始值是不可变的（Primitive Values Are Immutable）</h3><p>我们无法改变原始值。</p><p>我会用一个小例子解释这句话。字符串（是原始值）和数组（不是原始值，是对象）在表面上有一些相似之处。一个数组是一串项目（item），一个字符串是一串字符（character）。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>arr</span> <span class=o>=</span> <span class=p>[</span><span class=mi>212</span><span class=p>,</span> <span class=mi>8</span><span class=p>,</span> <span class=mi>506</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>str</span> <span class=o>=</span> <span class=s1>&#39;hello&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span> <span class=c1>// 212
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>str</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span> <span class=c1>// &#34;h&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>arr</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=mi>420</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>arr</span><span class=p>);</span> <span class=c1>// [420, 8, 506]
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>str</span><span class=p>[</span><span class=mi>0</span><span class=p>]</span> <span class=o>=</span> <span class=s1>&#39;j&#39;</span><span class=p>;</span> <span class=c1>// ???
</span></span></span></code></pre></td></tr></table></div></div><p>所有的原始值都是不可变的，同样无法在原始值上设置属性。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>fifty</span> <span class=o>=</span> <span class=mi>50</span>
</span></span><span class=line><span class=cl><span class=nx>fifty</span><span class=p>.</span><span class=nx>shades</span> <span class=o>=</span> <span class=s1>&#39;gray&#39;</span>
</span></span></code></pre></td></tr></table></div></div><p><code>50</code> 是作为数字的原始值，你不能它在上面设置属性。</p><h3 id=矛盾之处a-contradiction>矛盾之处？（A Contradiction?）</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>pet</span> <span class=o>=</span> <span class=s1>&#39;Narwhal&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>pet</span> <span class=o>=</span> <span class=s1>&#39;The Kraken&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>pet</span><span class=p>);</span> <span class=c1>// ?
</span></span></span></code></pre></td></tr></table></div></div><p>一段看似和上文矛盾的代码。</p><h3 id=变量是电线variables-are-wires>变量是电线（Variables Are Wires）</h3><p>再回到上面的例子，pet 输出的是新的值 <code>The Kraken</code>。这是咋回事呢？</p><p><strong>变量不是值，变量指向值。</strong></p><blockquote><p>在我的宇宙中，一个变量是一根电线。它有两个端点，并且有一条方向：从我代码中的一个命名出发，最终指向我宇宙中的某个值。</p></blockquote><p>比如把变量 <code>pet</code>指向<code>Narwhal</code></p><p><img src=https://static.chenguixian.com/image/2024/11/U5c2f25202f46488d946a5a77c295cd18I-b6adaa.png></p><h4 id=给变量赋值assigning-a-value-to-a-variable>给变量赋值（Assigning a Value to a Variable）</h4><p><img src=https://static.chenguixian.com/image/2024/11/U9da5a210fe564841b959c6579f5adbf1p-7611e4.png></p><blockquote><p>我在这里所做的只是告诉 JavaScript 把左侧的「电线」（即变量 <code>pet</code>）指向右侧的值（即 <code>"The Kraken"</code>）。除非我之后再重新赋值，否则它将一直指向该值。</p></blockquote><p>一个赋值语句的左侧是电线，右侧是表达式。像 <code>2</code> 的数字或者像 <code>"The Kraken"</code> 的字符串也是表达式呢。这种表达式被称作<em>字面量（literals）</em>——因为我们字面地写出了它们的值。</p><h4 id=读取变量的值reading-a-value-of-a-variable>读取变量的值（Reading a Value of a Variable）</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>pet</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><blockquote><p>当我们写下 <code>pet</code> 时，我们是向 JavaScript 问了这么个问题：「<code>pet</code> 的当前值是多少？」为了回答这个问题，JavaScript 沿着 <code>pet</code> 的「电线」，找到末端的值后反馈给我们。</p></blockquote><h4 id=名词和动词nouns-and-verbs>名词和动词（Nouns and Verbs）</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>function</span> <span class=kr>double</span><span class=p>(</span><span class=nx>x</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nx>x</span> <span class=o>=</span> <span class=nx>x</span> <span class=o>*</span> <span class=mi>2</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>money</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kr>double</span><span class=p>(</span><span class=nx>money</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>money</span><span class=p>);</span> <span class=c1>// ?
</span></span></span></code></pre></td></tr></table></div></div><blockquote><p><strong>如果我们认为 <code>double(money)</code> 传递的是一个变量，我们可以料想到的是 <code>x = x \* 2</code> 会使这个变量翻倍。但事实并非如此。我们知道 <code>double(money)</code> 的意思是「算出 <code>money</code> 的*值*，然后向 <code>double</code> *传递这个值*」。所以答案是 <code>10</code>。</strong></p></blockquote><h4 id=结合起来说putting-it-together>结合起来说（Putting It Together）</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>x</span> <span class=o>=</span> <span class=mi>10</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>y</span> <span class=o>=</span> <span class=nx>x</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>x</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span></code></pre></td></tr></table></div></div><p>一个图片的动态示例。</p><h3 id=小测试>小测试</h3><ol><li><p>仅通过编辑函数 <code>feed</code>是否可以改变输出，为什么？不可以</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>pets</span> <span class=o>=</span> <span class=s1>&#39;Tom and Jerry&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>feed</span><span class=p>(</span><span class=nx>pets</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>pets</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
</span></span></code></pre></td></tr></table></div></div></li><li><p>仅通过编辑函数 <code>feed</code> 来改变输出嘛？为什么？可以</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>pets</span> <span class=o>=</span> <span class=p>[</span><span class=s1>&#39;Tom&#39;</span><span class=p>,</span> <span class=s1>&#39;Jerry&#39;</span><span class=p>];</span>
</span></span><span class=line><span class=cl><span class=nx>feed</span><span class=p>(</span><span class=nx>pets</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>pets</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span>
</span></span></code></pre></td></tr></table></div></div></li></ol><h2 id=counting-the-values>Counting the Values</h2><h3 id=未定义undefined>未定义（Undefined）</h3><p><code>undefined</code> 就是个普通的原始值，跟 <code>2</code> 或者 <code>"hello"</code> 是一样的。</p><h3 id=空值null>空值（Null）</h3><p>可以把 <code>null</code> 想象成 <code>undefined</code> 的姐妹。它们的表现相似。比如，当你打算访问它的属性时，会抛错。与 <code>undefined</code> 相似，<strong><code>null</code> 是其自身类型的唯一值</strong>。</p><p>但是 <code>null</code> 也有特殊的一点。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>console.log(typeof(null)) // object
</span></span></code></pre></td></tr></table></div></div><p>是个历史 bug，但是为了不影响先有代码，所以这个一直没有被修复。</p><p>为什么需要同时有 <code>null</code> 和 <code>undefined</code> 呢？因为这可以帮你把「（可能导致 <code>undefined</code> 的）编码错误」和「（可能被你表示为 <code>null</code>）的缺失数据」区分开。然而，这只是一个约定，JavaScript 并不会强制这种用法。</p><h3 id=布尔值booleans>布尔值（Booleans）</h3><p><strong>布尔值只有两个：<code>true</code> 和 <code>false</code></strong>。</p><p><img src=https://static.chenguixian.com/image/2024/11/U819c36c356b14a1ba13849ef48d32132Q-bee1b0.jpg></p><h3 id=数字numbers>数字（Numbers）</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=mi>28</span><span class=p>));</span> <span class=o>*</span><span class=c1>// &#34;number&#34;*
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=mf>3.14</span><span class=p>));</span> <span class=o>*</span><span class=c1>// &#34;number&#34;*
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=o>-</span><span class=mi>140</span><span class=p>));</span> <span class=o>*</span><span class=c1>// &#34;number&#34;*
</span></span></span></code></pre></td></tr></table></div></div><h4 id=有限精度>有限精度</h4><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mf>0.1</span> <span class=o>+</span> <span class=mf>0.2</span> <span class=o>===</span> <span class=mf>0.3</span><span class=p>);</span> <span class=c1>// false
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=mf>0.1</span> <span class=o>+</span> <span class=mf>0.2</span> <span class=o>===</span> <span class=mf>0.30000000000000004</span><span class=p>);</span> <span class=c1>// true
</span></span></span></code></pre></td></tr></table></div></div><p><code>0.1</code> 和 <code>0.2</code> 都是被「四舍五入」到最接近的可用数字。而四舍五入的错误会不断累积，因此将它们相加并不能得出 <code>0.3</code>。</p><h4 id=浮动小数点floating-decimal-point>浮动小数点（Floating Decimal Point）</h4><p>浮点数学运算的另一个有趣方面是，数字的精度是「浮动的」，它取决于数字的大小。我们离 <code>0</code> 越近，数字的精度就越大，数字之间「挨」得也越近：</p><p><img src=https://static.chenguixian.com/image/2024/11/Ueffe192d60f24a35a353b6e21370ef46b-471a9d.gif></p><p>当我们从 <code>0</code> 开始向任一方向移动时，我们便开始丢失精度。在某个时刻，即便是两个紧挨着的数字也会相差得比 <code>1</code> 还要远：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Number</span><span class=p>.</span><span class=nx>MAX_SAFE_INTEGER</span><span class=p>);</span>     <span class=c1>// 9007199254740991
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Number</span><span class=p>.</span><span class=nx>MAX_SAFE_INTEGER</span> <span class=o>+</span> <span class=mi>1</span><span class=p>);</span> <span class=c1>// 9007199254740992
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Number</span><span class=p>.</span><span class=nx>MAX_SAFE_INTEGER</span> <span class=o>+</span> <span class=mi>2</span><span class=p>);</span> <span class=c1>// 9007199254740992
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Number</span><span class=p>.</span><span class=nx>MAX_SAFE_INTEGER</span> <span class=o>+</span> <span class=mi>3</span><span class=p>);</span> <span class=c1>// 9007199254740994
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Number</span><span class=p>.</span><span class=nx>MAX_SAFE_INTEGER</span> <span class=o>+</span> <span class=mi>4</span><span class=p>);</span> <span class=c1>// 9007199254740996
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nb>Number</span><span class=p>.</span><span class=nx>MAX_SAFE_INTEGER</span> <span class=o>+</span> <span class=mi>5</span><span class=p>);</span> <span class=c1>// 9007199254740996
</span></span></span></code></pre></td></tr></table></div></div><h4 id=特殊数字special-numbers>特殊数字（Special Numbers）</h4><p>浮点数学运算包含一些<em>特殊数字</em>。你可能偶尔会遇到 <code>NaN</code>、<code>Infinity</code>、<code>-Infinity</code>、<code>-0</code>。之所以它们会存在，是因为有时你可能会执行诸如 <code>1 / 0</code> 之类的操作，而 JavaScript 需要以某种方式表示其结果。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>scale</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>a</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>/</span> <span class=nx>scale</span><span class=p>;</span> <span class=c1>// Infinity
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>b</span> <span class=o>=</span> <span class=mi>0</span> <span class=o>/</span> <span class=nx>scale</span><span class=p>;</span> <span class=c1>// NaN
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>c</span> <span class=o>=</span> <span class=o>-</span><span class=nx>a</span><span class=p>;</span> <span class=c1>// -Infinity
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=kd>let</span> <span class=nx>d</span> <span class=o>=</span> <span class=mi>1</span> <span class=o>/</span> <span class=nx>c</span><span class=p>;</span> <span class=c1>// -0
</span></span></span></code></pre></td></tr></table></div></div><p><code>NaN</code> 尤其有意思。<code>NaN</code> 是 <code>0 / 0</code> 这种不正确的数学计算的结果，代表「非数（Not a Number）」。</p><h4 id=总结>总结</h4><ul><li>**JavaScript 实现了一种叫做「浮点数学」的标准。**越靠近 <code>0</code>，数字越精确，反之越不精确。</li><li><strong>像 <code>1 / 0</code> 或者 <code>0 / 0</code> 这类不正确的数学操作的结果是特殊的数字。</strong><code>NaN</code> 是这些特殊数字中的一员。</li><li>**<code>typeof(NaN)</code> 是 <code>number</code>，因为它这个值本身确实是数字。**只不过因为代表了「不正确的」数字这个含义，而被叫做「非数」。</li></ul><h3 id=大数bigints>大数（BigInts）</h3><p>对于精度要求很高的金融计算，大数会很有用。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>alot</span> <span class=o>=</span> <span class=mi>9007199254740991</span><span class=nx>n</span><span class=p>;</span> <span class=c1>// 注意末尾的 n
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>alot</span> <span class=o>+</span> <span class=mi>1</span><span class=nx>n</span><span class=p>);</span> <span class=c1>// 9007199254740992n
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>alot</span> <span class=o>+</span> <span class=mi>2</span><span class=nx>n</span><span class=p>);</span> <span class=c1>// 9007199254740993n
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>alot</span> <span class=o>+</span> <span class=mi>3</span><span class=nx>n</span><span class=p>);</span> <span class=c1>// 9007199254740994n
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>alot</span> <span class=o>+</span> <span class=mi>4</span><span class=nx>n</span><span class=p>);</span> <span class=c1>// 9007199254740995n
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>alot</span> <span class=o>+</span> <span class=mi>5</span><span class=nx>n</span><span class=p>);</span> <span class=c1>// 9007199254740996n
</span></span></span></code></pre></td></tr></table></div></div><h3 id=字符串strings>字符串（Strings）</h3><p>字符串代表了 JavaScript 中的文本。有三种写字符串的方式（单引号、双引号、反引号），但是结果都一样。空字符串也是字符串。</p><h4 id=字符串不是对象>字符串不是对象</h4><p>字符串属性是特殊的，并不和对象属性的表现一致。例如，你不能给 <code>cat[0]</code> 赋值。字符串是原始值，而所有的原始值都是不可变的。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>cat</span> <span class=o>=</span> <span class=s1>&#39;Cheshire&#39;</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>cat</span><span class=p>.</span><span class=nx>length</span><span class=p>);</span> <span class=c1>// 8
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>cat</span><span class=p>[</span><span class=mi>0</span><span class=p>]);</span> <span class=c1>// &#34;C&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>cat</span><span class=p>[</span><span class=mi>1</span><span class=p>]);</span> <span class=c1>// &#34;h&#34;
</span></span></span></code></pre></td></tr></table></div></div><h3 id=符号symbols>符号（Symbols）</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>alohomora</span> <span class=o>=</span> <span class=nx>Symbol</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=nx>alohomora</span><span class=p>));</span> <span class=c1>// &#34;symbol&#34;
</span></span></span></code></pre></td></tr></table></div></div><h3 id=对象objects>对象（Objects）</h3><p>对象包含数组、日期、正则表达式和其他非原始值的值：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>({}));</span> <span class=c1>// &#34;object&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>([]));</span> <span class=c1>// &#34;object&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=k>new</span> <span class=nb>Date</span><span class=p>()));</span> <span class=c1>// &#34;object&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=sr>/\d+/</span><span class=p>));</span> <span class=c1>// &#34;object&#34;
</span></span></span><span class=line><span class=cl><span class=c1></span><span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=nb>Math</span><span class=p>));</span> <span class=c1>// &#34;object&#34;
</span></span></span></code></pre></td></tr></table></div></div><h4 id=making-our-own-objects>Making Our Own Objects</h4><p>每当我们使用 <code>{}</code> 这种对象字面量时，我们就「创建」了全新的对象值：</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>shrek</span> <span class=o>=</span> <span class=p>{};</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>donkey</span> <span class=o>=</span> <span class=p>{};</span>
</span></span></code></pre></td></tr></table></div></div><p><img src=https://static.chenguixian.com/image/2024/11/U59e0b47af9e14371b759ba5f21afd510d-186fcd.jpg></p><h4 id=对象会消失吗do-objects-disappear>对象会消失吗？（Do Objects Disappear?）</h4><p>JS 自带垃圾回收机制，当我们的代码中没有值相关的引用时，这些值可能会消失。</p><h3 id=函数functions>函数（Functions）</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=k>for</span> <span class=p>(</span><span class=kd>let</span> <span class=nx>i</span> <span class=o>=</span> <span class=mi>0</span><span class=p>;</span> <span class=nx>i</span> <span class=o>&lt;</span> <span class=mi>7</span><span class=p>;</span> <span class=nx>i</span><span class=o>++</span><span class=p>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=kd>let</span> <span class=nx>dig</span> <span class=o>=</span> <span class=kd>function</span><span class=p>()</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=c1>// Do nothing
</span></span></span><span class=line><span class=cl><span class=c1></span>  <span class=p>};</span>
</span></span><span class=line><span class=cl>  <span class=nx>console</span><span class=p>.</span><span class=nx>log</span><span class=p>(</span><span class=nx>dig</span><span class=p>);</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></td></tr></table></div></div><p>这段代码有几个函数。7 个。</p><p><strong>每当我们执行一行包含函数声明的代码时，一个全新的函数值在我们的宇宙中出现了。</strong></p><p><img src=https://static.chenguixian.com/image/2024/11/U23ffdb3989d54558a7dbb9ed33aec0e42-2c10f8.gif></p><p>每当我们执行像 <code>let dwarf = {}</code> 的代码时，一个全新的对象是如何出现的。我们<em>创建</em>对象，我们也<em>创建</em>函数。</p><h3 id=测试>测试</h3><p>下面代码运行后的变量和值的示意图。<strong>图 B 正确</strong></p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-js data-lang=js><span class=line><span class=cl><span class=kd>let</span> <span class=nx>spaghetti</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span> <span class=k>return</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>2</span> <span class=p>};</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>fettuccine</span> <span class=o>=</span> <span class=nx>spaghetti</span><span class=p>;</span>
</span></span><span class=line><span class=cl><span class=kd>let</span> <span class=nx>gnocchi</span> <span class=o>=</span> <span class=kd>function</span> <span class=p>()</span> <span class=p>{</span> <span class=k>return</span> <span class=mi>2</span> <span class=o>+</span> <span class=mi>2</span> <span class=p>};</span>
</span></span></code></pre></td></tr></table></div></div><p><img src=https://static.chenguixian.com/image/2024/11/U21189993d05b4d0fb7b609cdb6bd126f9-5eb29c.png></p><h2 id=参考资料>参考资料</h2><p><a href=https://songkeys.github.io/categories/JavaScript/>https://songkeys.github.io/categories/JavaScript/</a></p></div><div class=post-copyright><p class=copyright-item><span class=item-title>文章作者</span>
<span class=item-content>Chen Guixian</span></p><p class=copyright-item><span class=item-title>上次更新</span>
<span class=item-content>2021-09-14</span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/javascript/>javascript</a></div><nav class=post-nav><a class=prev href=/post/op/ssh-config/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">SSH 配置文件简单指南</span>
<span class="prev-text nav-mobile">上一篇</span>
</a><a class=next href=/post/op/nginx-location-proxy_pass/><span class="next-text nav-default">Nginx location 和 proxy_pass </span><span class="next-text nav-mobile">下一篇</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div></div></main><footer id=footer class=footer><div class=social-links></div><div class=copyright><span class=power-by>由 <a class=hexo-link href=https://gohugo.io>Hugo</a> 强力驱动
</span><span class=division>|</span>
<span class=theme-info>主题 -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a>
</span><span class=copyright-year>&copy;
2017 -
2025<span class=heart><i class="iconfont icon-heart"></i></span><span>Chen Guixian</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin=anonymous></script><script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script></body></html>